@model Garage2.Models.Vehicle

@{
    ViewBag.Title = "Receipt";
}

@*@DateTime CheckOutTime= new DateTime();*@
<h2>Details</h2> 

<div>
    <h4>Receipt</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.Type)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Type)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.RegNr)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.RegNr)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Brand)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Brand)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.ProdName)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.ProdName)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.CheckInTime)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.CheckInTime)
        </dd>
        @{
            DateTime CheckOutTime = new DateTime();
            CheckOutTime = DateTime.Now;
            TimeSpan? ParkingTime = new TimeSpan();
                        
            ParkingTime = CheckOutTime - Model.CheckInTime;
            int totHours = Convert.ToInt32(ParkingTime.Value.TotalHours);
            
            var result = string.Format("{0:D2}:{1:D2}",  totHours, ParkingTime.Value.Minutes);
            
            double pay = ParkingTime.Value.TotalHours*60;
            string Payment = String.Format("{0:0}", pay);
            
         }
        <dt>
            @Html.DisplayNameFor(r=>CheckOutTime)
        </dt>
        <dd>
            @Html.DisplayFor(r=>CheckOutTime)
        </dd>
           
        <dt>
           @Html.DisplayNameFor(r => ParkingTime)
       </dt>
       <dd>
           @Html.DisplayFor(r => result)
       </dd>
        <dt>
            @Html.DisplayNameFor(r => Payment)
        </dt>
        <dd>
            <p>
                @Html.DisplayFor(r => Payment)
                Kronor. Price/hour is 60 kr.
            </p>
         
        </dd>

    </dl>
</div>
<p>
      @Html.ActionLink("Back to List", "Index")
</p>
